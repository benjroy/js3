<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>JS3</title>		
		<meta name="description" content="A simple JavaScript port of the ActionScript3 Display List.">
		<meta name="author" content="Stephen Braitsch">		
		<link type="text/css" href="docs.css" rel="stylesheet" />			
		<link href='http://fonts.googleapis.com/css?family=Play' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="http://yandex.st/highlightjs/6.1/styles/github.min.css">
	    <script src="http://yandex.st/highlightjs/6.1/highlight.min.js"></script>        
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script> 
		<script type="text/javascript" src="docs.js"></script>               
		<script type="text/javascript" src="../src/JS3.js"></script>
		<script type="text/javascript" src="./ui-theme/jquery-ui-1.8.16.custom.min.js"></script>
		<link type="text/css" href="./ui-theme/custom-theme/jquery-ui-1.8.16.custom.css" rel="stylesheet" />	
        <script>hljs.initHighlightingOnLoad();</script>
	</head>
	<body>
	    <div id='wrap'>
    	    <div class='example'>
    	        <h2>Setup</h2>
    	        <p>First things first, add a canvas tag to your HTML, give it an id and pass it to the JS3 constructor.</p>    
    	        <h3>Example Code</h3>    	        
                <pre><code>
                // html //
                canvas id="my-canvas" width="900" height="75"
                // javascript //
                var cnvs = new JS3('my-canvas');
                cnvs.background = '#eee';
                </script>
                </code></pre>
            </div> 	        
    	    <div class='example'>
                <h2><a name="drawing-shapes" href='#drawing-shapes'>Drawing Shapes</a></h2>
    	        <p>You can draw simple shapes by calling the appropriate method and passing in an object that defines how the shape should be drawn.<br>Once these shapes are drawn on the canvas, the objects that define them are removed from memory.</p>    
    	        <canvas id="drawShape" width="900" height="75"></canvas>
    	        <h3>Example Code</h3>    	        
                <pre><code>
            	cnvs.drawCircle( { size:40, x:50, y:40, fillColor:"#69D2E7", strokeColor:"#C02942", strokeWidth:2 } );
            	cnvs.drawRect( { width:40, height:40, x:100, y:20, fillColor:"#69D2E7", strokeColor:"#C02942", strokeWidth:2 } );	
            	cnvs.drawLine( { x1:165, y1:60, x2:225, y2:20, strokeColor:"#C02942", strokeWidth:2 } );
            	cnvs.drawArc( { x1:250, y1:60, x2:300, y2:60, cx:275, cy:-20, strokeColor:"#C02942", strokeWidth:2 } );	
                cnvs.drawTri( { size:40, x:350, y:40, fillColor:"#69D2E7", strokeColor:"#C02942", strokeWidth:2 } );		            	
                </code></pre>
            </div> 
    	    <div class='example'>
                <h2><a name="adding-shapes" href="#adding-shapes">Adding Shapes to the Display List</a></h2>
    	        <p>To create persistent shapes that you can animate and interact with, add JS3Shape objects to your canvas and set properties on them just as you would in ActionScript.</p>    
    	        <canvas id="addChild" width="900" height="75"></canvas>
    	        <h3>Example Code</h3>    	        
                <pre><code>
            	var c = new JS3Circle();
            		c.size = 40; c.x = 50; c.y = 40; c.fillColor = "#69D2E7"; c.strokeColor = "#C02942"; c.strokeWidth = 2;
            	cnvs.addChild( c );
            	
            	var r = new JS3Rect();
            		r.width = 40; r.height = 40; r.x = 100; r.y = 20; r.fillColor = "#69D2E7"; r.strokeColor = "#C02942"; r.strokeWidth = 2;
            	cnvs.addChild( r );	
            	
            	var l = new JS3Line();
            		l.x1 = 165; l.y1 = 60; l.x2 = 225; l.y2 = 20; l.strokeColor="#C02942"; l.strokeWidth=2;
            	cnvs.addChild( l );
            	
            	var a = new JS3Arc();
            		a.x1 = 250; a.y1 = 60; a.x2 = 300; a.y2 = 60; a.cx = 275; a.cy = -20; a.strokeColor="#C02942"; a.strokeWidth=2;
            	cnvs.addChild( a );	
            	
                var t = new JS3Tri();
                        t.size = 40; t.x = 350; t.y = 40; t.fillColor = "#69D2E7"; t.strokeColor="#C02942"; t.strokeWidth=2;
                cnvs.addChild( t );            	
                </code></pre>
            </div>             
             
    	    <div class='example'>
                <h2><a name="tweening" href="#tweening">Tweening</a></h2>
    	        <p>Initiate simple tweens using the familiar <a href='http://www.greensock.com/tweenlite/' target='blank'>TweenLite</a> syntax:
    	        <b>canvas.tween(target, seconds, { x:, y:, alpha... onComplete:callback })</b><br>
    	        The example below tweens the circle to an x position of 600 over 3 seconds.</p>	        
    	        <canvas id="tween1" width="900" height="75"></canvas>
                <input type='button' value='tween' id='tween1btn'>
    	        <h3>Example Code</h3>    	        
               <pre><code>
            	var c = new JS3Circle();
            		c.size = 40; c.x = 50; c.y = 40; c.fillColor = "#69D2E7"; c.strokeColor = "#C02942"; c.strokeWidth = 2;
            	cnvs.addChild( c );
            	cnvs.tween(c, 3, {x:600});
                </code></pre>              
    	        <p>You can also daisy-chain tweens by specifying a callback to be executed. The target object of the tween is automatically passed as an argument to the callback.<br>
    	        The example below tweens the circle to an x position of 600 over 3 seconds and then fades it out over 2 seconds.</p>
    	        <canvas id="tween2" width="900" height="75"></canvas>
                <input type='button' value='tween' id='tween2btn'>
    	        <h3>Example Code</h3>    	        
               <pre><code>
            	var c = new JS3Circle();
            		c.size = 40; c.x = 50; c.y = 40; c.fillColor = "#69D2E7"; c.strokeColor = "#C02942"; c.strokeWidth = 2;
            	cnvs.addChild( c );
                cnvs.tween(c, 3, {x:600, onComplete:function(o){
                    cnvs.tween(o, 2, {alpha:0});
                }});
                </code></pre> 
    	        <p>Or of course tween multiple properties at the same time.</p>      
    	        <canvas id="tween3" width="900" height="75"></canvas>
                <input type='button' value='tween' id='tween3btn'>
    	        <h3>Example Code</h3>
               <pre><code>
            	var c = new JS3Circle();
            		c.size = 40; c.x = 50; c.y = 40; c.fillColor = "#69D2E7"; c.strokeColor = "#C02942"; c.strokeWidth = 2;
                cnvs.addChild( c );
                cnvs.tween(c, 2, {x:600, y:10, alpha:0});
                </code></pre>                              
            </div>   
    	    <div class='example'>
                <h2><a name="animation" href="#animation">Timed Frame Animation</a></h2>    	        
                <p>You can manually redraw the canvas on a timer by passing a function that updates the screen to the JS3.run() method.<br>
                    The update function below moves the circle 10 pixels to the right each time it is called, every 15 frames.</p>
    	        <canvas id="frame1" width="900" height="75"></canvas>
                <input type='button' value='run' id='frame1btn'>
    	        <h3>Example Code</h3> 
                <pre><code>
            	var c = new JS3Circle();
            		c.size = 40; c.x = 50; c.y = 40; c.fillColor = "#69D2E7"; c.strokeColor = "#C02942"; c.strokeWidth = 2;
                cnvs.addChild( c );                    
    	        function update()
                {
	                c.x +=10;
	                if (c.x >= 600) c.x = 50;
                }
                cnvs.run(update, 15);
                 </code></pre>   
                <p>You can also pass a third argument to run() to limit the number of times the update function is called, similar to how the <a href='http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/utils/Timer.html' target='blank'>Timer</a> class works in AS3<br>The following example calls the update function 10 times, on a 20 frame interval, and then stops.</p>
    	        <canvas id="frame2" width="900" height="75"></canvas>
                <input type='button' value='run' id='frame2btn'>
    	        <h3>Example Code</h3> 
                <pre><code>
            	var c = new JS3Circle();
            		c.size = 40; c.x = 50; c.y = 40; c.fillColor = "#69D2E7"; c.strokeColor = "#C02942"; c.strokeWidth = 2;
                cnvs.addChild( c );                    
    	        function update()
                {
	                c.x +=10;
                }
                cnvs.run(update, 20, 10);
                 </code></pre> 
                <p>Just calling run() with an update function will execute "update" on every frame tick, similar to the AS3 OnEnterFrame.</p>
    	        <canvas id="frame3" width="900" height="75"></canvas>
                <input type='button' value='stop' id='frame3btn'>
    	        <h3>Example Code</h3> 
                <pre><code>
                // build an object with unique properties for a circle //    
                function defineCircle()
                {
                    var c = {};
		            c.size = 15; c.x = Math.random()*cnvs.width; c.y = Math.random()*cnvs.height; 
		            c.fillColor = "#69D2E7"; c.strokeColor = "#C02942"; c.strokeWidth = 2;	
		            c.dirX = Math.round(Math.random()) == 0 ? -1 : 1;
		            c.dirY = Math.round(Math.random()) == 0 ? -1 : 1;
                    return c;
                }
                // update function to bounce the circles around the canvas //
    	        function update()
                {
                	var i = cnvs.numChildren;
                	while ( i-- ){
                		var c = cnvs.getChildAt(i);
                		if (c.x >= cnvs.width || c.x <= 0) c.dirX *=-1;
                		if (c.y >= cnvs.height || c.y <= 0) c.dirY *=-1;
                		c.x += c.dirX;
                		c.y += c.dirY;
                	}
                }
                // attach two circles to the stage //
                var c1 = new JS3Circle(defineCircle());
                cnvs.addChild( c1 );
                var c2 = new JS3Circle(defineCircle());
                cnvs.addChild( c2 );                
                // finally call the update function on every frame //
                cnvs.run(update);
                </code></pre> 
                <h2>More features & examples coming soon...</h2>     
            </div>
        </div>        
	</body>
</html>


